# AWS 재해 복구(DR) 전략 가이드

IT 서비스의 연속성을 보장하기 위한 재해 복구(Disaster Recovery)의 핵심 지표와 AWS에서 제공하는 4가지 전략을 정리합니다.

## 1. DR의 핵심 지표 (KPI)

재해 복구 계획을 세울 때 가장 먼저 고려해야 할 두 가지 기준입니다.

| 지표 | 풀네임 | 정의 | 핵심 질문 |
| --- | --- | --- | --- |
| **RPO** | **Recovery Point Objective** | 복구 지점 목표 | "데이터를 어디까지 살릴 것인가? (허용 가능한 데이터 손실 시간)" |
| **RTO** | **Recovery Time Objective** | 복구 시간 목표 | "얼마나 빨리 살릴 것인가? (허용 가능한 서비스 중단 시간)" |

---

## 2. 영향 범위에 따른 대응 수준

재해의 규모에 따라 인프라 배치 전략이 달라집니다.

* **멀티 AZ (Multi-AZ):** 한 리전 내의 특정 데이터 센터(Availability Zone) 장애에 대비합니다.
* **다중 리전 (Multi-Region):** 전쟁, 지진 등 광범위한 지역 재난에 대비하여 서비스를 타 지역으로 옮기는 전략입니다. (주요 DR 대상)

---

## 3. AWS의 4가지 DR 전략 비교

전략이 아래로 내려갈수록 **복구 속도(RTO)는 빨라지지만 비용은 증가**합니다.

### 3.1. 백업 및 복구 (Backup & Restore)

* **방식:** 데이터를 S3 등에 주기적으로 백업하고, 재해 발생 시 새 서버를 생성하여 데이터를 주입합니다.
* **장점:** 비용이 가장 저렴합니다.
* **단점:** 서버 생성 및 데이터 복원 시간이 필요하므로 **RTO가 가장 깁니다.**

### 3.2. 파일럿 라이트 (Pilot Light)

* **방식:** 가스레인지의 불꽃처럼 **DB만 최소한으로 가동**하고, 웹/앱 서버는 설정값만 둔 채 꺼둡니다.
* `Aurora Global Database` 등을 사용하여 실시간 데이터 복제를 수행합니다.
* 복제 리전의 ELB, Auto Scaling 등은 비활성 상태입니다.


* **장점:** 백업 방식보다 복구가 빠르며, 장애 시 꺼져있는 서버만 즉시 가동하면 됩니다.

### 3.3. 웜 스텐바이 (Warm Standby)

* **방식:** 실제 서비스와 동일한 구성을 **최소 사양(Minimum Size)**으로 상시 가동합니다.
* 프로덕션 트래픽 전체를 감당할 수는 없으나, 즉각적인 테스트가 가능합니다.


* **장점:** 장애 발생 시 인스턴스 사양만 높이면(Scale-up) 즉시 투입 가능하여 **RTO가 매우 짧습니다.**
* **단점:** 상시 가동 비용이 발생합니다.

### 3.4. 다중 사이트 액티브-액티브 (Multi-site Active-Active)

* **방식:** 두 곳 이상의 리전에서 **동시에 트래픽을 처리**합니다.
* `DynamoDB 글로벌 테이블` 등을 사용하여 리전 간 데이터 동기화 지연을 1초 내외로 유지합니다.


* **장점:** 한 리전이 중단되어도 다른 리전이 즉시 처리하므로 **RTO가 0에 가깝습니다.**
* **단점:** 모든 인프라를 이중으로 가동하므로 비용이 가장 많이 듭니다.

---

### 💡 요약 비교표

| 전략 | 비용 | RTO/RPO | 복구 난이도 |
| --- | --- | --- | --- |
| **Backup & Restore** | ₩ | Hours | 높음 |
| **Pilot Light** | ₩₩ | 10s of Mins | 중간 |
| **Warm Standby** | ₩₩₩ | Minutes | 낮음 |
| **Active-Active** | ₩₩₩₩ | Real-time | 매우 낮음 |