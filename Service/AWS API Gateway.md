# AWS API Gateway

## 1. AWS API Gateway란?

규모에 관계없이 개발자가 API를 손쉽게 생성, 게시, 유지 관리, 모니터링 및 보안 유지할 수 있도록 돕는 **완전 관리형 서비스**입니다. 수많은 백엔드 서비스(Lambda, EC2, HTTP 엔드포인트 등) 앞에 세우는 **'단일 접점(대문)'** 역할을 합니다.

---

## 2. API Gateway 핵심 기능

단순한 연결을 넘어 API의 품질과 보안을 결정하는 다양한 기능을 제공합니다.

* **통합 접점 관리:** 흩어진 마이크로서비스(MSA)를 하나의 일관된 URL 체계로 묶어 관리합니다.
* **트래픽 관리 (Throttling):** 특정 사용자의 과도한 요청으로부터 백엔드를 보호하기 위해 요청 횟수를 제한합니다.
* **보안 및 인증:** API Key, IAM 권한, Cognito, Lambda Authorizer 등을 활용해 인가된 사용자만 접근을 허용합니다.
* **데이터 변환 (Mapping):** 클라이언트와 백엔드 간의 데이터 형식을 중간에서 변환하여 상호 호환성을 높입니다.
* **캐싱 (Caching):** 빈번한 요청 데이터를 저장하여 백엔드 부하를 줄이고 응답 속도를 개선합니다.

---

## 3. API 유형 및 특징

용도와 예산에 따라 적합한 API 유형을 선택할 수 있습니다.

| 유형 | 특징 | 주요 용도 |
| --- | --- | --- |
| **HTTP API** | 지연 시간이 매우 낮고 REST API 대비 최대 70% 저렴함 | 서버리스 앱, 단순 API 프록시 |
| **REST API** | 사용 계획, 정교한 캐싱 등 관리 기능이 매우 강력함 | 복잡한 기업용/상업용 API 서비스 |
| **WebSocket API** | 클라이언트와 서버 간 실시간 양방향 통신 지원 | 채팅 앱, 실시간 대시보드, 게임 |

---

## 4. 핵심 구성 요소 및 용어

* **리소스(Resource) & 메서드(Method):** `/users`(경로)와 `GET`(행동)처럼 API의 구조를 정의합니다.
* **스테이지(Stage):** `prod`, `dev` 등 API 버전을 배포하는 논리적인 환경 단위입니다.
* **배포(Deployment):** API의 스냅샷을 생성하여 특정 스테이지에서 즉시 사용 가능하게 만드는 행위입니다.
* **통합(Integration):** API 요청을 실제로 처리할 백엔드(Lambda 등)와 연결하는 설정입니다.

---

## 5. 백엔드 연결 방식 (통합 유형)

* **Lambda 프록시 통합:** 가장 선호되는 방식입니다. 요청 전체를 Lambda에 전달하며, Lambda가 응답 형식을 완전히 제어합니다. (설정이 매우 간편)
* **HTTP 프록시 통합:** 기존 웹 서버(EC2, 외부 엔드포인트)로 요청을 투명하게 전달합니다.
* **AWS 서비스 통합:** Lambda를 거치지 않고 직접 S3에 파일을 업로드하거나 Kinesis로 데이터를 스트리밍할 수 있어 지연 시간을 최소화합니다.